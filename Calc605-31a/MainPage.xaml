<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="Calc605_31a.MainPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <ContentPage.Resources>
        <ResourceDictionary>
            <!--  Базовый стиль кнопок  -->
            <Style TargetType="Button" x:Key="BaseButtonStyle">
                <Setter Property="FontSize" Value="50" />
                <Setter Property="BackgroundColor" Value="#F3F4F6" />
                <!--  светлый фон  -->
                <Setter Property="TextColor" Value="Black" />
                <Setter Property="BorderWidth" Value="0" />
                <Setter Property="CornerRadius" Value="12" />
                <Setter Property="Margin" Value="4" />
            </Style>

            <!--  Операционные кнопки  -->
            <Style
                BasedOn="{StaticResource BaseButtonStyle}"
                TargetType="Button"
                x:Key="OperationButtonStyle">
                <Setter Property="BackgroundColor" Value="#3B82F6" />
                <Setter Property="TextColor" Value="White" />
            </Style>

            <!--  Специальные кнопки (C, ←)  -->
            <Style
                BasedOn="{StaticResource BaseButtonStyle}"
                TargetType="Button"
                x:Key="SpecialButtonStyle">
                <Setter Property="BackgroundColor" Value="#EAB308" />
                <Setter Property="TextColor" Value="White" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid
        ColumnSpacing="8"
        Padding="10"
        RowSpacing="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!--  Display  -->
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  === DISPLAY ===  -->
        <Label
            BackgroundColor="#E5E7EB"
            FontSize="64"
            Grid.ColumnSpan="4"
            Grid.Row="0"
            HeightRequest="120"
            HorizontalOptions="Fill"
            HorizontalTextAlignment="End"
            Margin="0,0,0,10"
            Padding="10"
            Text="0"
            TextColor="Black"
            VerticalOptions="Center"
            VerticalTextAlignment="Center"
            x:Name="Display" />

        <!--  === ROW 1: C, ←, /, x ===  -->
        <Button
            Clicked="Button_Clicked"
            Grid.Column="0"
            Grid.Row="1"
            Style="{StaticResource SpecialButtonStyle}"
            Text="C" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="1"
            Grid.Row="1"
            Style="{StaticResource SpecialButtonStyle}"
            Text="←" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="2"
            Grid.Row="1"
            Style="{StaticResource OperationButtonStyle}"
            Text="/" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="3"
            Grid.Row="1"
            Style="{StaticResource OperationButtonStyle}"
            Text="x" />

        <!--  === ROW 2: 7, 8, 9, - ===  -->
        <Button
            Clicked="Button_Clicked"
            Grid.Column="0"
            Grid.Row="2"
            Style="{StaticResource BaseButtonStyle}"
            Text="7" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="1"
            Grid.Row="2"
            Style="{StaticResource BaseButtonStyle}"
            Text="8" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="2"
            Grid.Row="2"
            Style="{StaticResource BaseButtonStyle}"
            Text="9" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="3"
            Grid.Row="2"
            Style="{StaticResource OperationButtonStyle}"
            Text="-" />

        <!--  === ROW 3: 4, 5, 6, + ===  -->
        <Button
            Clicked="Button_Clicked"
            Grid.Column="0"
            Grid.Row="3"
            Style="{StaticResource BaseButtonStyle}"
            Text="4" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="1"
            Grid.Row="3"
            Style="{StaticResource BaseButtonStyle}"
            Text="5" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="2"
            Grid.Row="3"
            Style="{StaticResource BaseButtonStyle}"
            Text="6" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="3"
            Grid.Row="3"
            Style="{StaticResource OperationButtonStyle}"
            Text="+" />

        <!--  === ROW 4: 1, 2, 3, = ===  -->
        <Button
            Clicked="Button_Clicked"
            Grid.Column="0"
            Grid.Row="4"
            Style="{StaticResource BaseButtonStyle}"
            Text="1" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="1"
            Grid.Row="4"
            Style="{StaticResource BaseButtonStyle}"
            Text="2" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="2"
            Grid.Row="4"
            Style="{StaticResource BaseButtonStyle}"
            Text="3" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="3"
            Grid.Row="4"
            Grid.RowSpan="2"
            Style="{StaticResource OperationButtonStyle}"
            Text="=" />

        <!--  === ROW 5: 0, ., (пусто), (равно занимает справа) ===  -->
        <Button
            Clicked="Button_Clicked"
            Grid.Column="0"
            Grid.ColumnSpan="2"
            Grid.Row="5"
            Style="{StaticResource BaseButtonStyle}"
            Text="0" />
        <Button
            Clicked="Button_Clicked"
            Grid.Column="2"
            Grid.Row="5"
            Style="{StaticResource BaseButtonStyle}"
            Text="." />
    </Grid>
</ContentPage>
